<div class="page-layout">
  <app-sidebar></app-sidebar>
  <div class="main-content">
    <app-header></app-header>
    <div class="content">
      <!-- Breadcrumb -->
      <div class="breadcrumb">
        <span class="breadcrumb-item active">Transfers</span>
        <mat-icon class="breadcrumb-separator active">chevron_right</mat-icon>
        <span class="breadcrumb-item active">{{transferAllDetail?.locationName}}</span>
      </div>
      
      <!-- Page Header -->
      <div class="page-header">
        <h1>Transfers</h1>
      </div>
      
      <!-- Search Bar -->
      <div class="search-section">
        <div class="search-container">
          <mat-icon class="search-icon">search</mat-icon>
          <input type="text" placeholder="Search..." class="search-input" (keyup)="applyFilter($event)">
        </div>

        <div class="button-group" style="display: none;">
          <button class="btn btn-primary mr-15">Transfer to Van</button>
          <button class="btn btn-primary mr-15">Transfer to Location</button>
          <button class="btn btn-primary">Add Follow Up</button>
        </div>
      </div>
      
      <!-- Table -->
      <div class="table-container">
        <table class="customer-table">
          <thead>
            <tr>
              <th (click)="onSortChange('productName')" class="sortable">
                PRODUCT NAME
                <mat-icon *ngIf="sortBy === 'productName'">
                  {{sortOrder === 'asc' ? 'arrow_upward' : 'arrow_downward'}}
                </mat-icon>
              </th>
              <th (click)="onSortChange('skuCode')" class="sortable">
                SKU/CODE
                <mat-icon *ngIf="sortBy === 'skuCode'">
                  {{sortOrder === 'asc' ? 'arrow_upward' : 'arrow_downward'}}
                </mat-icon>
              </th>
              <th (click)="onSortChange('variantName')" class="sortable">
                VARIANT NAME
                <mat-icon *ngIf="sortBy === 'variantName'">
                  {{sortOrder === 'asc' ? 'arrow_upward' : 'arrow_downward'}}
                </mat-icon>
              </th>
              <th (click)="onSortChange('quantity')" class="sortable">
                QUANTITY
                <mat-icon *ngIf="sortBy === 'quantity'">
                  {{sortOrder === 'asc' ? 'arrow_upward' : 'arrow_downward'}}
                </mat-icon>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of paginatedItems">
              <td>{{item.productName}}</td>
              <td>{{item.skuCode}}</td>
              <td>
                <div class="variant-name-container">
                  <span class="variant-name">{{item.variantName}}</span>
                  <mat-icon 
                    class="info-icon"
                    [matTooltip]="getTooltipText(item)"
                    matTooltipPosition="above"
                    matTooltipClass="inventory-tooltip">
                    info
                  </mat-icon>
                </div>
              </td>
              <td>
                <span [class]="getQuantityColorClass(item)">{{item.quantity}}</span>
              </td>
            </tr>
          </tbody>
        </table>

        <mat-paginator 
          [length]="totalCount"
          [pageIndex]="pageIndex"
          [pageSize]="pageSize"
          [pageSizeOptions]="pageSizeOptions" 
          showFirstLastButtons
          class="table-paginator"
          (page)="onPageChange($event)">
        </mat-paginator>
      </div>
    </div>
  </div>
</div>
